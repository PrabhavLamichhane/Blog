<div class="spinner-border" role="status" *ngIf="loading">
    <span class="visually-hidden">Loading...</span>
</div>
<form [formGroup]="editorForm" *ngIf="!loading">

    <div class="form-check" *ngFor="let category of categories">
        <input class="form-check-input" type="radio" value="{{category._id}}" formControlName="categoryId">
        <label class="form-check-label" for="{{category.name}}">
          {{category.name}}
        </label>
    </div>

    <div *ngIf="f.categoryId.touched && f.categoryId.invalid " class="alert alert-danger ">
        <div *ngIf="f.categoryId.errors.required ">Category is required</div>
        <!-- <div *ngIf="name.errors.cannotContainSpace ">Category cannot contain space.</div> -->
    </div>


    <label for="title">Title</label>
    <input type="text" id="title" class="form-control" placeholder="Title" formControlName="title" aria-label="Title" aria-describedby="addon-wrapping">
    <div *ngIf="f.title.touched && f.title.invalid " class="alert alert-danger ">
        <div *ngIf="f.title.errors.required ">Title is required</div>
        <div *ngIf="f.title.errors.minlength ">Title should be minimum {{ f.title.errors.minlength.requiredLength }} characters.</div>
        <!-- <div *ngIf="name.errors.cannotContainSpace ">Category cannot contain space.</div> -->
    </div>


    <label for="editor">Editor</label>
    <!-- <quill-editor formControlName="editor"></quill-editor> -->
    <quill-editor [styles]="{minHeight: '200px',background:'white'}" formControlName="description" (onContentChanged)="maxLength($event)" (onFocus)="focus($event) " (onEditorChanged)="changedEditor($event) " (onBlur)="blur($event) " (onEditorCreated)="created($event)"
        [modules]="moduleConfig">
    </quill-editor>
    <!-- length not working properly -->
    <!-- <span *ngIf="editorForm?.get('editor')?.value">{{ editorForm?.get('editor')?.value?.length }}</span> -->
    <button type="submit " style="margin-top: 20px; " [disabled]="!editorForm?.valid" class="btn btn-success" (click)="onSubmit()">
        <div *ngIf="adding || updating" class="spinner-border" role="status">
            <span class="visually-hidden">Loading...</span>
          </div>
        <span *ngIf="!adding && !updating">Submit</span> 
    </button>

    <div class="alert alert-danger alert-dismissible fade show mt-5" role="alert" *ngIf="invalidBlog">
        <strong>{{blogError}}</strong>
        <!-- <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button> -->
    </div>

</form>